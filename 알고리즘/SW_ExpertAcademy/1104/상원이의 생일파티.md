# 상원이의 생일파티

```python
T= int(input())
INF=99999999999999
for tc in range(1,T+1):
    N, M, X = map(int,input().split())
    arr=[[INF]*(N) for _ in range(N)]
    arr2=[[INF]*(N) for _ in range(N)]

    for _ in range(M):
        x, y, c = map(int,input().split())
        x-=1
        y-=1
        arr[x][y]=c
        arr2[y][x]=c

    for i in range(N):
        arr[i][i]=0
        arr2[i][i]=0
    D = arr[X]
    U = [0]*N
    D2= arr2[X]
    U2= [0]*N

    cnt=0
    while cnt != N:
        cnt+=1
        minV = INF
        w=0
        for j in range(N):
            if D[j]<minV and U[j] ==0:
                w=j
                minV=D[j]
        U[w]=1

        for k in range(N):
            if U[k]==0:
                if 0<arr[w][k]<INF:
                    D[k]=min(D[k],D[w]+arr[w][k])


    cnt2=0
    while cnt2 !=N:
        cnt2+=1
        minV = INF
        w2=0
        for j2 in range(N):
            if D2[j2]<minV and U2[j2] ==0:
                w2=j2
                minV=D2[j2]
        U2[w2]=1

        for k2 in range(N):
            if U2[k2]==0:
                if 0<arr2[w2][k2]<INF:
                    D2[k2]=min(D2[k2],D2[w2]+arr2[w2][k2])
    maxV=0
    for n in range(N):
        if D[n]+D2[n] > maxV:
            maxV=D[n]+D2[n]
    print(f'#{tc} {maxV}')


```

